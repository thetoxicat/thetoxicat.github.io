<html>
<body>
<a href="lark://client">lark://client</a>
<input id="id">
<input id="id2">
<input id="id3">
<div id="ddd2">
<br>
command: <input id="cmd" placeholder="larkbridge://">
<button id="sendbtn" onclick="send();">Send</button>
<button id="printLogs" onclick="printLogs();">Logs</button>
<button id="clearLogs" onclick="clearLogs();">Clear</button>
</div>
<div id="log"></div>
<script>
    console.stdlog = console.log.bind(console);
    console.logs = [];
    console.log = function(){
        console.logs.push(Array.from(arguments));
        console.stdlog.apply(console, arguments);
    }
setTimeout(()=>{
let value;
let value2;
let value3;
try{
  value = JSON.stringify(Object.keys(this._large_msg_bridge));
  value2 = JSON.stringify(Object.keys(this.window));
  value3 = JSON.stringify(Object.keys(this.LkWebViewJavascriptBridge));
}
catch(e){
  value = JSON.stringify(e);
}
document.querySelector("#id").value = value;
document.querySelector("#id2").value = value2;
document.querySelector("#id3").value = value3;
//this._large_msg_bridge.send("larkbridge://return/_fetchQueue/last_one/");
},10000);
this.clearLogs = (e) =>{
    document.querySelector("#log").innerHTML = "";
}
this.printLogs = (e) => {
    let result = "";
    for(let current in console.logs){
        result += console.logs[current] +"<br>"
    }
    let elem = document.querySelector("#log");
    elem.innerHTML = result;
}
this.send = (e) => {
    try{
        this._large_msg_bridge.send(document.querySelector('#cmd').value);
    } catch(e){
        document.querySelector("#log").innerHTML += JSON.stringify(e.message) + "<br>";
    }
}
</script>
</body>
</html>
